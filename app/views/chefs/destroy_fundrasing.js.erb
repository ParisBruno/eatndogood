$(".fundraising-codes").html("<%= escape_javascript (render partial: 'fundraising_codes_table') %>");

var fundrasingTitleValue = document.getElementById("fundraising-title");
var addFundrasingBtn = document.getElementById("add-fundrasing-btn");

addFundrasingBtn.addEventListener("click", function () {
  var title = $('#fundraising-title').val();
  var couponCheckBox = $('#fundraising-check-box').prop("checked");
  var app_route_fundrasing_codes = "<%= app_route(app_add_fundrasing_codes_path(current_app)) %>";
  $.ajax({
    method: "POST",
    url: app_route_fundrasing_codes,
    data: { fundrasing_code: {title: title, is_active: couponCheckBox} },
    success: function (response) {
    },
  })
});

fundrasingTitleValue.addEventListener("change", function () {
  if (fundrasingTitleValue.value.length > 0) {
    addFundrasingBtn.disabled = false;
  } else {
    addFundrasingBtn.disabled = true;
  }
});
