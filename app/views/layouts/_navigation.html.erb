<nav class="navbar navbar-default">
  <% if user_signed_in? %>
    <div class="container-fluid">

      
      <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1" >
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <%= link_to "Home", root_path, class: "navbar-brand", id: "logo", style: "display: flex; justify-content: center; align-items: center;" %>
        </div>
        <ul class="nav navbar-nav flex-row">
          
          <li class="active nav-item">
            <%= link_to recipes_path do %>
              All Recipes<span class="sr-only">(current)</span>
            <% end %>
          </li>
           <li class="dropdown nav-item">
            <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Search By Ingredients</a>
            <ul class="dropdown-menu">
              <% @ingredients.each do |ingredient| %>
              <li class="nav-item">
                <%= link_to ingredient.name, ingredient_path(ingredient.id) %>
              </li>
              
              <% end %>

              <% if current_user.admin?  || current_user.chef? %>
                <li role="separator" class="divider"></li>
                <li class="nav-item">
                  <%= link_to "New Ingredient", new_ingredient_path %>
                </li>
              <% end %>
              
            </ul>
            <li class="dropdown nav-item">
            <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Search By Allergens</a>
            <ul class="dropdown-menu">
              <% @allergens.each do |allergen| %>
              <li class="nav-item">
                <%= link_to allergen.name, allergen_path(allergen.id) %>
              </li>
              
              <% end %>

              <% if current_user.admin?  || current_user.chef? %>
                <li role="separator" class="divider"></li>
                <li class="nav-item">
                  <%= link_to "New Allergen", new_allergen_path %>
                </li>
                <% end %>
            </ul>
              <% if current_user.admin? || current_user.chef? %>
              <li>
                <%= link_to "New Recipe", new_recipe_path %>
              </li>
              <% end %>
              <li class="dropdown">
                <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Chefs</a>
                <ul class="dropdown-menu">
                  <% if current_user.admin?  %>
                  <li>
                    <%= link_to "Create Chef Account", new_chef_path %>
                  </li>
                  <% end %>
                  <li>
                    <%= link_to "List Chefs", chefs_path %>
                  </li>
                </ul>
              </li>
          </li>
       </ul>
        
        <ul class="nav navbar-nav navbar-right">
          <li class="dropdown nav-item">
            <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">
              <%= current_user.full_name %></a>
            <ul class="dropdown-menu">
              
              <li>
                <%= link_to "Edit Profile", !current_user.host_chef.nil? ? edit_chef_path(current_user.host_chef) : edit_user_registration_path(current_user) %>
              </li>
              <% if current_user.admin? %>
                <li>
                  <%= link_to "Guests List", guests_path %>
                </li>
                <li>
                  <%= link_to "Update Welcome Page", welcome_edit_pages_path %>
                </li>
                <li>
                  <%= link_to "Update About Page", about_edit_pages_path %>
                </li>
              <% end %>
              <li role="separator" class="divider"></li>
              <li><%= link_to "Log out", destroy_user_session_path, method: :delete %></li>
            </ul>
          </li>
        </ul>
      </div>
    </div>
  <% else %>
    <div class="row" style="width: 100%;">
      <div class="col-md-8"></div>
      
        <div class="col-md-4 login">
          <div class="login">
            <a class="btn btn-success btn-lg" href="/users/sign_in">Log in</a>
          </div>
          <div class="registration">
            <a class="btn btn-success btn-lg" href="/users/sign_up">Sign up</a>
          </div>
        </div>
        
      </div>
  <% end %>
</nav> 
